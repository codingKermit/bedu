<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.care.bedu.bookmark.dao.BookmarkDAO">

    <select id="getBookmark" parameterType="com.care.bedu.bookmark.vo.BookmarkVO" resultType="int">
        SELECT
            COUNT(*)
        FROM
            B_EDU.T_BEDU_BOOKMARK
        WHERE
            USER_NAME = #{userName} AND
            LECT_NUM = #{lectNum}
    </select>

    <insert id="save" parameterType="com.care.bedu.bookmark.vo.BookmarkVO">
        INSERT INTO
            B_EDU.T_BEDU_BOOKMARK
        (
            USER_NAME,
            LECT_NUM,
            BOOKMARK_DATE
        )
        VALUES(
            #{userName},
            #{lectNum},
            NOW()
        )
    </insert>
    
    <delete id="remove" parameterType="com.care.bedu.bookmark.vo.BookmarkVO">
        DELETE FROM
            B_EDU.T_BEDU_BOOKMARK
        WHERE
            USER_NAME = #{userName} AND
            LECT_NUM = #{lectNum}
    </delete>


    <select id="getList" resultType="com.care.bedu.bookmark.vo.BookmarkVO">
        SELECT
            bookmark_num AS num,
            user_name as userName,
            lect_num as lectNum,
            bookmark_date as bookmarkDate
        FROM
            B_EDU.t_bedu_bookmark
        WHERE
            user_name = #{userName}
    </select>


</mapper>